<html>
    <head>
        <meta charset="UTF-8">
    </head>

    <table>

    <tr>
    <td><canvas id=canvas1 width=600 height=600></td>
    <td width=50></td>
    <td valign=top>

    </td>
    </tr>

    <tr>
    <td><canvas id=canvas2 width=300 height=200></td>
    <td width=50></td>
    <td valign=top>
    </td>
    </tr>
    
    <tr>
    <td><canvas id=canvas3 width=300 height=200></td>
    <td width=50></td>
    <td valign=top>
    </td>
    </tr>

    </table>

    <script src=drawlib1.js></script>
    <script>
      
    var mat  = new Matrix();
    var spl = new HSpline();
  
    var q = new Vector4(0, 0, 0, 0);
    var cursor = new Vector3(0, 0, 0);
      
    var x = 0, y = 0, w = 0, h = 0;
    
    var points = [];
    
    var drawCircle = function (context, x, y/*, fillcolor, radius, linewidth, strokestyle, fontcolor, textalign, fonttype, filltext*/) {
        context.beginPath();
        context.arc(x, y, 2, 0, 2 * Math.PI, false);
        context.fillStyle = 'black';
        context.fill();
        context.lineWidth = 1;
        context.strokeStyle = 'black';
        context.stroke();
    };
    
    var drawLine = function (context, p1, p2) {
        context.beginPath();
        context.moveTo(p1.x, p1.y);
        context.lineWidth = 0.5;
        context.strokeStyle = 'black';
        context.lineTo(p2.x, p2.y);
        context.stroke();
    };
   
    var canvas = initCanvas('canvas1');
    var context = canvas.getContext('2d');
    canvas.update = function(g) {
        cursor = canvas.cursor;
        w = this.width;
        h = this.height;
        
        if (canvas.clicked) {
            console.log("Mouse press");
            console.log(cursor.x);
            console.log(cursor.y);
            points.push(new Vector3(cursor.x, 
                                    cursor.y,
                                    0));
            canvas.clicked = false;
        }
        
        for (var p = 0; p < points.push(); ++p) {
            var point = points[p];
            drawCircle(context, point.x, point.y);
            if (p < points.push() - 1) {
                drawLine(context, points[p], points[p+1]);
            }
        }
    }
    </script>
</html>