<html>
    <head>
        <meta charset="UTF-8">
    </head>

    <table>

    <tr>
    <td><canvas id=canvas1 width=300 height=200></td>
    <td width=50></td>
    <td valign=top>

    </td>
    </tr>

    <tr>
    <td><canvas id=canvas2 width=300 height=200></td>
    <td width=50></td>
    <td valign=top>
    </td>
    </tr>
    
    <tr>
    <td><canvas id=canvas3 width=300 height=200></td>
    <td width=50></td>
    <td valign=top>
    </td>
    </tr>

    </table>

    <script src=drawlib1.js></script>
    <script>
      
      var mat  = new Matrix();
      var spl = new HSpline();
      
      var q = new Vector4(0, 0, 0, 0);

      var i = 0, j = 0;
      var x = 0, y = 0, z = 0;
      var currX = 0.0, currY = 0.0, currZ = 0.0, 
          theta = 0.0, phi = 0.0,  r = .15;
          
      var w = 0, h = 0;
      
      var points  = [];
      
      var cyl = [];
      
      for (i = 0.0; i < 1.01; i += 0.05) {
        for (j = 0.0; j < 1.01; j += 0.05) {
            theta = 2 * Math.PI * i;
            currX = Math.sin(theta);
            currY = 2 * j - 1;
            currZ = Math.cos(theta);
            cyl.push(new Vector3(currX, currY, currZ));
        }
      }
      
      var sph = [];

      for (i = 0.0; i < 1.0; i += 0.05) {
        for (j = 0.0; j < 1.0; j += 0.05) {
            theta = 2 * Math.PI * i;
            phi = Math.PI * j - Math.PI / 2;
            currX = Math.cos(phi) * Math.sin(theta);
            currY = Math.sin(phi);
            currZ = Math.cos(phi) * Math.cos(theta);

            sph.push(new Vector3(currX, currY, currZ));
        }
      }
      
      var tor = [];
      
      for (i = 0.0; i < 1.0; i += 0.05) {
        for (j = 0.0; j < 1.0; j += 0.05) {
            theta = 2 * Math.PI * i;
            phi = 2 * Math.PI * j;
            currX = (1 + r * Math.cos(phi)) * Math.cos(theta);
            currY = (1 + r * Math.cos(phi)) * Math.sin(theta);
            currZ = r * Math.sin(theta);

            tor.push(new Vector3(currX, currY, currZ));
        }
      }
      
      currX = Math.sin(0);
      currY = -1;
      x = viewPortX(w, h, currX);
      y = viewPortY(w, h, currY);
      cyl.push(new Vector3(x, y, 0));
       
       var canvas = initCanvas('canvas1');
       canvas.update = function(g) {
          w = this.width;
          h = this.height;
          
          spl.addPoint(Math.sin(Math.PI * time) * 200,
                       Math.cos(Math.PI * time * 3) * 200);
          
          spl.transform(g, mat);
          

       }
    </script>
</html>